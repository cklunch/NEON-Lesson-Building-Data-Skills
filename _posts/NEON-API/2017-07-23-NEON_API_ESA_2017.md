---
layout: post
title: "Using the NEON API in R"
description: "Tutorial for getting data from the NEON API, using R and the R package httr"
date:   2017-08-07
dateCreated:  2017-07-07
lastModified: 2017-07-28
estimatedTime: 1 - 1.5 hours
packagesLibraries: [httr, devtools, neonDataStackR]
authors: [Claire K. Lunch]
contributors: [Claire Lunch, Christine Laney, Megan A. Jones]
categories: [self-paced-tutorial]
mainTag: API
tags: [R, API]
code1: 
image:
  feature:
  credit:
  creditlink:
permalink: /R/neon-api/
comments: false
---

{% include _toc.html %}

## About
This is a lesson in pulling data from the NEON API, using base R 
and the R package httr. There are 3 basic categories of NEON data:

1. Observational - Data collected by a human in the field, or in an analytical laboratory, e.g. beetle identification, foliar isotopes
1. Instrumentation - Data collected by an automated, streaming sensor, e.g. net radiation, soil carbon dioxide
1. Remote sensing - Data collected by the airborne observation platform, e.g. LIDAR, surface reflectance

This lesson covers the first two types of data. NEON remote sensing data are not currently available through the API.

**R Skill Level:** Intermediate - you've got the basics of `R` down.

**API Skill Level:** Beginner - you have little to no experience with APIs.

<div id="objectives" markdown="1">

# Goals / Objectives
After completing this activity, you will:

* Be able to pull observational, instrumentation, and geolocation data from the NEON API.
* Be able to transform API-accessed data from JSON to tabular format for analyses.

## Things Youâ€™ll Need To Complete This Tutorial
To complete this tutorial you will need the most current version of R and, 
preferably, RStudio loaded on your computer.

### Install R Packages

* **httr:** `install.packages("httr")`
* **jsonlite:** `install.packages("jsonlite")`
* **devtools:** `install.packages("devtools")`
* **neonDataStackR:** `devtools::install_github("NEONScience/NEON-utilities/neonDataStackR")`

### Additional Resources

* [Website for the NEON API](http://data.neonscience.org/data-api)
* [GitHub repository for the NEON API](https://github.com/NEONScience/neon-data-api)
* [ROpenSci wrapper for the NEON API](https://github.com/ropenscilabs/nneo) (not covered in this tutorial)

</div>

## Anatomy of an API call
### Base URL: 
Specifics are appended to this in order to get the data or 
metadata you're looking for, but all calls to this API will include 
the base URL. For the NEON API, this is http://data.neonscience.org/api/v0 
(not clickable, because the base URL by itself will take you nowhere!)

### Endpoints: 
What type of data or metadata are you looking for?

* **~/products**
  Information about one or all of NEON's data products

* **~/sites**
  Information about data availability at the site specified in the call

* **~/locations**
  Spatial data for the NEON locations specified in the call

* **~/data**
  Data! By product, site, and date (in monthly chunks).

### Targets:
The specific product, site, or location you want to get data for.


## Observational data
Which product do you want to get data for? Consult the <a href="http://data.neonscience.org/data-product-catalog" target="_blank">data product catalog</a>.

We'll pick Breeding landbird point counts, DP1.10003.001

First query the products endpoint of the API to find out which sites and dates have data available. 
The structure of the URL for the call is base/endpoint/DPID, where DPID is the numbered identifier 
for the data product:


    library(httr)
    library(jsonlite)
    req <- GET("http://data.neonscience.org/api/v0/products/DP1.10003.001")

The object returned from the GET has many layers of information. Entering the name of 
the object gives you some basic information about what you downloaded. The content() 
function returns the contents in the form of a highly nested list. This is typical of 
JSON-formatted data returned by APIs:


    req

    ## Response [http://data.neonscience.org/api/v0/products/DP1.10003.001]
    ##   Date: 2017-07-28 21:47
    ##   Status: 200
    ##   Content-Type: application/json;charset=UTF-8
    ##   Size: 4.23 kB

    req.content <- content(req, as="parsed")
    req.content

    ## $data
    ## $data$keywords
    ## $data$keywords[[1]]
    ## [1] "birds"
    ## 
    ## $data$keywords[[2]]
    ## [1] "diversity"
    ## 
    ## $data$keywords[[3]]
    ## [1] "taxonomy"
    ## 
    ## $data$keywords[[4]]
    ## [1] "community composition"
    ## 
    ## $data$keywords[[5]]
    ## [1] "distance sampling"
    ## 
    ## $data$keywords[[6]]
    ## [1] "avian"
    ## 
    ## $data$keywords[[7]]
    ## [1] "species composition"
    ## 
    ## $data$keywords[[8]]
    ## [1] "population"
    ## 
    ## 
    ## $data$productStatus
    ## [1] "ACTIVE"
    ## 
    ## $data$productDescription
    ## [1] "Count, distance from observer, and taxonomic identification of breeding landbirds observed during point counts"
    ## 
    ## $data$productCode
    ## [1] "DP1.10003.001"
    ## 
    ## $data$productHasExpanded
    ## [1] TRUE
    ## 
    ## $data$productCategory
    ## [1] "Level 1 Data Product"
    ## 
    ## $data$themes
    ## $data$themes[[1]]
    ## [1] "Organisms, Populations, and Communities"
    ## 
    ## 
    ## $data$productScienceTeam
    ## [1] "Terrestrial Observation System (TOS)"
    ## 
    ## $data$siteCodes
    ## $data$siteCodes[[1]]
    ## $data$siteCodes[[1]]$availableDataUrls
    ## $data$siteCodes[[1]]$availableDataUrls[[1]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/OSBS/2016-05"
    ## 
    ## 
    ## $data$siteCodes[[1]]$availableMonths
    ## $data$siteCodes[[1]]$availableMonths[[1]]
    ## [1] "2016-05"
    ## 
    ## 
    ## $data$siteCodes[[1]]$siteCode
    ## [1] "OSBS"
    ## 
    ## 
    ## $data$siteCodes[[2]]
    ## $data$siteCodes[[2]]$availableDataUrls
    ## $data$siteCodes[[2]]$availableDataUrls[[1]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/STER/2015-05"
    ## 
    ## $data$siteCodes[[2]]$availableDataUrls[[2]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/STER/2016-05"
    ## 
    ## 
    ## $data$siteCodes[[2]]$availableMonths
    ## $data$siteCodes[[2]]$availableMonths[[1]]
    ## [1] "2015-05"
    ## 
    ## $data$siteCodes[[2]]$availableMonths[[2]]
    ## [1] "2016-05"
    ## 
    ## 
    ## $data$siteCodes[[2]]$siteCode
    ## [1] "STER"
    ## 
    ## 
    ## $data$siteCodes[[3]]
    ## $data$siteCodes[[3]]$availableDataUrls
    ## $data$siteCodes[[3]]$availableDataUrls[[1]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/STEI/2016-05"
    ## 
    ## $data$siteCodes[[3]]$availableDataUrls[[2]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/STEI/2016-06"
    ## 
    ## 
    ## $data$siteCodes[[3]]$availableMonths
    ## $data$siteCodes[[3]]$availableMonths[[1]]
    ## [1] "2016-05"
    ## 
    ## $data$siteCodes[[3]]$availableMonths[[2]]
    ## [1] "2016-06"
    ## 
    ## 
    ## $data$siteCodes[[3]]$siteCode
    ## [1] "STEI"
    ## 
    ## 
    ## $data$siteCodes[[4]]
    ## $data$siteCodes[[4]]$availableDataUrls
    ## $data$siteCodes[[4]]$availableDataUrls[[1]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/WOOD/2015-07"
    ## 
    ## 
    ## $data$siteCodes[[4]]$availableMonths
    ## $data$siteCodes[[4]]$availableMonths[[1]]
    ## [1] "2015-07"
    ## 
    ## 
    ## $data$siteCodes[[4]]$siteCode
    ## [1] "WOOD"
    ## 
    ## 
    ## $data$siteCodes[[5]]
    ## $data$siteCodes[[5]]$availableDataUrls
    ## $data$siteCodes[[5]]$availableDataUrls[[1]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/BART/2015-06"
    ## 
    ## $data$siteCodes[[5]]$availableDataUrls[[2]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/BART/2016-06"
    ## 
    ## 
    ## $data$siteCodes[[5]]$availableMonths
    ## $data$siteCodes[[5]]$availableMonths[[1]]
    ## [1] "2015-06"
    ## 
    ## $data$siteCodes[[5]]$availableMonths[[2]]
    ## [1] "2016-06"
    ## 
    ## 
    ## $data$siteCodes[[5]]$siteCode
    ## [1] "BART"
    ## 
    ## 
    ## $data$siteCodes[[6]]
    ## $data$siteCodes[[6]]$availableDataUrls
    ## $data$siteCodes[[6]]$availableDataUrls[[1]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/TREE/2016-06"
    ## 
    ## 
    ## $data$siteCodes[[6]]$availableMonths
    ## $data$siteCodes[[6]]$availableMonths[[1]]
    ## [1] "2016-06"
    ## 
    ## 
    ## $data$siteCodes[[6]]$siteCode
    ## [1] "TREE"
    ## 
    ## 
    ## $data$siteCodes[[7]]
    ## $data$siteCodes[[7]]$availableDataUrls
    ## $data$siteCodes[[7]]$availableDataUrls[[1]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/UNDE/2016-06"
    ## 
    ## $data$siteCodes[[7]]$availableDataUrls[[2]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/UNDE/2016-07"
    ## 
    ## 
    ## $data$siteCodes[[7]]$availableMonths
    ## $data$siteCodes[[7]]$availableMonths[[1]]
    ## [1] "2016-06"
    ## 
    ## $data$siteCodes[[7]]$availableMonths[[2]]
    ## [1] "2016-07"
    ## 
    ## 
    ## $data$siteCodes[[7]]$siteCode
    ## [1] "UNDE"
    ## 
    ## 
    ## $data$siteCodes[[8]]
    ## $data$siteCodes[[8]]$availableDataUrls
    ## $data$siteCodes[[8]]$availableDataUrls[[1]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/ORNL/2016-05"
    ## 
    ## $data$siteCodes[[8]]$availableDataUrls[[2]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/ORNL/2016-06"
    ## 
    ## 
    ## $data$siteCodes[[8]]$availableMonths
    ## $data$siteCodes[[8]]$availableMonths[[1]]
    ## [1] "2016-05"
    ## 
    ## $data$siteCodes[[8]]$availableMonths[[2]]
    ## [1] "2016-06"
    ## 
    ## 
    ## $data$siteCodes[[8]]$siteCode
    ## [1] "ORNL"
    ## 
    ## 
    ## $data$siteCodes[[9]]
    ## $data$siteCodes[[9]]$availableDataUrls
    ## $data$siteCodes[[9]]$availableDataUrls[[1]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/HARV/2015-05"
    ## 
    ## $data$siteCodes[[9]]$availableDataUrls[[2]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/HARV/2015-06"
    ## 
    ## $data$siteCodes[[9]]$availableDataUrls[[3]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/HARV/2016-06"
    ## 
    ## 
    ## $data$siteCodes[[9]]$availableMonths
    ## $data$siteCodes[[9]]$availableMonths[[1]]
    ## [1] "2015-05"
    ## 
    ## $data$siteCodes[[9]]$availableMonths[[2]]
    ## [1] "2015-06"
    ## 
    ## $data$siteCodes[[9]]$availableMonths[[3]]
    ## [1] "2016-06"
    ## 
    ## 
    ## $data$siteCodes[[9]]$siteCode
    ## [1] "HARV"
    ## 
    ## 
    ## $data$siteCodes[[10]]
    ## $data$siteCodes[[10]]$availableDataUrls
    ## $data$siteCodes[[10]]$availableDataUrls[[1]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/DSNY/2015-06"
    ## 
    ## $data$siteCodes[[10]]$availableDataUrls[[2]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/DSNY/2016-05"
    ## 
    ## 
    ## $data$siteCodes[[10]]$availableMonths
    ## $data$siteCodes[[10]]$availableMonths[[1]]
    ## [1] "2015-06"
    ## 
    ## $data$siteCodes[[10]]$availableMonths[[2]]
    ## [1] "2016-05"
    ## 
    ## 
    ## $data$siteCodes[[10]]$siteCode
    ## [1] "DSNY"
    ## 
    ## 
    ## $data$siteCodes[[11]]
    ## $data$siteCodes[[11]]$availableDataUrls
    ## $data$siteCodes[[11]]$availableDataUrls[[1]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/JERC/2016-06"
    ## 
    ## 
    ## $data$siteCodes[[11]]$availableMonths
    ## $data$siteCodes[[11]]$availableMonths[[1]]
    ## [1] "2016-06"
    ## 
    ## 
    ## $data$siteCodes[[11]]$siteCode
    ## [1] "JERC"
    ## 
    ## 
    ## $data$siteCodes[[12]]
    ## $data$siteCodes[[12]]$availableDataUrls
    ## $data$siteCodes[[12]]$availableDataUrls[[1]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/SCBI/2015-06"
    ## 
    ## $data$siteCodes[[12]]$availableDataUrls[[2]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/SCBI/2016-05"
    ## 
    ## $data$siteCodes[[12]]$availableDataUrls[[3]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/SCBI/2016-06"
    ## 
    ## 
    ## $data$siteCodes[[12]]$availableMonths
    ## $data$siteCodes[[12]]$availableMonths[[1]]
    ## [1] "2015-06"
    ## 
    ## $data$siteCodes[[12]]$availableMonths[[2]]
    ## [1] "2016-05"
    ## 
    ## $data$siteCodes[[12]]$availableMonths[[3]]
    ## [1] "2016-06"
    ## 
    ## 
    ## $data$siteCodes[[12]]$siteCode
    ## [1] "SCBI"
    ## 
    ## 
    ## $data$siteCodes[[13]]
    ## $data$siteCodes[[13]]$availableDataUrls
    ## $data$siteCodes[[13]]$availableDataUrls[[1]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/DELA/2015-06"
    ## 
    ## 
    ## $data$siteCodes[[13]]$availableMonths
    ## $data$siteCodes[[13]]$availableMonths[[1]]
    ## [1] "2015-06"
    ## 
    ## 
    ## $data$siteCodes[[13]]$siteCode
    ## [1] "DELA"
    ## 
    ## 
    ## $data$siteCodes[[14]]
    ## $data$siteCodes[[14]]$availableDataUrls
    ## $data$siteCodes[[14]]$availableDataUrls[[1]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/GUAN/2015-05"
    ## 
    ## 
    ## $data$siteCodes[[14]]$availableMonths
    ## $data$siteCodes[[14]]$availableMonths[[1]]
    ## [1] "2015-05"
    ## 
    ## 
    ## $data$siteCodes[[14]]$siteCode
    ## [1] "GUAN"
    ## 
    ## 
    ## $data$siteCodes[[15]]
    ## $data$siteCodes[[15]]$availableDataUrls
    ## $data$siteCodes[[15]]$availableDataUrls[[1]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/TALL/2015-06"
    ## 
    ## $data$siteCodes[[15]]$availableDataUrls[[2]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/TALL/2016-07"
    ## 
    ## 
    ## $data$siteCodes[[15]]$availableMonths
    ## $data$siteCodes[[15]]$availableMonths[[1]]
    ## [1] "2015-06"
    ## 
    ## $data$siteCodes[[15]]$availableMonths[[2]]
    ## [1] "2016-07"
    ## 
    ## 
    ## $data$siteCodes[[15]]$siteCode
    ## [1] "TALL"
    ## 
    ## 
    ## $data$siteCodes[[16]]
    ## $data$siteCodes[[16]]$availableDataUrls
    ## $data$siteCodes[[16]]$availableDataUrls[[1]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/CPER/2015-05"
    ## 
    ## $data$siteCodes[[16]]$availableDataUrls[[2]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/CPER/2016-05"
    ## 
    ## 
    ## $data$siteCodes[[16]]$availableMonths
    ## $data$siteCodes[[16]]$availableMonths[[1]]
    ## [1] "2015-05"
    ## 
    ## $data$siteCodes[[16]]$availableMonths[[2]]
    ## [1] "2016-05"
    ## 
    ## 
    ## $data$siteCodes[[16]]$siteCode
    ## [1] "CPER"
    ## 
    ## 
    ## $data$siteCodes[[17]]
    ## $data$siteCodes[[17]]$availableDataUrls
    ## $data$siteCodes[[17]]$availableDataUrls[[1]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/GRSM/2016-06"
    ## 
    ## 
    ## $data$siteCodes[[17]]$availableMonths
    ## $data$siteCodes[[17]]$availableMonths[[1]]
    ## [1] "2016-06"
    ## 
    ## 
    ## $data$siteCodes[[17]]$siteCode
    ## [1] "GRSM"
    ## 
    ## 
    ## 
    ## $data$productName
    ## [1] "Breeding landbird point counts"
    ## 
    ## $data$productCodePresentation
    ## [1] "NEON.DP1.10003"
    ## 
    ## $data$specs
    ## $data$specs[[1]]
    ## $data$specs[[1]]$specId
    ## [1] 2467
    ## 
    ## $data$specs[[1]]$specNumber
    ## [1] "NEON.DOC.001247"
    ## 
    ## 
    ## $data$specs[[2]]
    ## $data$specs[[2]]$specId
    ## [1] 2468
    ## 
    ## $data$specs[[2]]$specNumber
    ## [1] "NEON.DOC.001245"
    ## 
    ## 
    ## 
    ## $data$productScienceTeamAbbr
    ## [1] "TOS"
    ## 
    ## $data$productCodeLong
    ## [1] "NEON.DOM.SITE.DP1.10003.001"

To get a more accessible view of which sites have data for which months, you'll 
need to extract data from the nested list. There are a variety of ways to do this, 
in this tutorial we'll explore a couple of them. Here we'll use fromJSON(), in the 
jsonlite package, which doesn't fully flatten the nested list, but gets us the part 
we need. To use it, we need a text version of the content:


    req.text <- content(req, as="text")
    avail <- fromJSON(req.text, simplifyDataFrame=T, flatten=T)
    avail

    ## $data
    ## $data$keywords
    ## [1] "birds"                 "diversity"             "taxonomy"             
    ## [4] "community composition" "distance sampling"     "avian"                
    ## [7] "species composition"   "population"           
    ## 
    ## $data$productStatus
    ## [1] "ACTIVE"
    ## 
    ## $data$productDescription
    ## [1] "Count, distance from observer, and taxonomic identification of breeding landbirds observed during point counts"
    ## 
    ## $data$productCode
    ## [1] "DP1.10003.001"
    ## 
    ## $data$productHasExpanded
    ## [1] TRUE
    ## 
    ## $data$productCategory
    ## [1] "Level 1 Data Product"
    ## 
    ## $data$themes
    ## [1] "Organisms, Populations, and Communities"
    ## 
    ## $data$productScienceTeam
    ## [1] "Terrestrial Observation System (TOS)"
    ## 
    ## $data$siteCodes
    ##                                                                                                                                                                                                      availableDataUrls
    ## 1                                                                                                                                                http://data.neonscience.org:80/api/v0/data/DP1.10003.001/OSBS/2016-05
    ## 2                                                                         http://data.neonscience.org:80/api/v0/data/DP1.10003.001/STER/2015-05, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/STER/2016-05
    ## 3                                                                         http://data.neonscience.org:80/api/v0/data/DP1.10003.001/STEI/2016-05, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/STEI/2016-06
    ## 4                                                                                                                                                http://data.neonscience.org:80/api/v0/data/DP1.10003.001/WOOD/2015-07
    ## 5                                                                         http://data.neonscience.org:80/api/v0/data/DP1.10003.001/BART/2015-06, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/BART/2016-06
    ## 6                                                                                                                                                http://data.neonscience.org:80/api/v0/data/DP1.10003.001/TREE/2016-06
    ## 7                                                                         http://data.neonscience.org:80/api/v0/data/DP1.10003.001/UNDE/2016-06, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/UNDE/2016-07
    ## 8                                                                         http://data.neonscience.org:80/api/v0/data/DP1.10003.001/ORNL/2016-05, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/ORNL/2016-06
    ## 9  http://data.neonscience.org:80/api/v0/data/DP1.10003.001/HARV/2015-05, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/HARV/2015-06, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/HARV/2016-06
    ## 10                                                                        http://data.neonscience.org:80/api/v0/data/DP1.10003.001/DSNY/2015-06, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/DSNY/2016-05
    ## 11                                                                                                                                               http://data.neonscience.org:80/api/v0/data/DP1.10003.001/JERC/2016-06
    ## 12 http://data.neonscience.org:80/api/v0/data/DP1.10003.001/SCBI/2015-06, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/SCBI/2016-05, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/SCBI/2016-06
    ## 13                                                                                                                                               http://data.neonscience.org:80/api/v0/data/DP1.10003.001/DELA/2015-06
    ## 14                                                                                                                                               http://data.neonscience.org:80/api/v0/data/DP1.10003.001/GUAN/2015-05
    ## 15                                                                        http://data.neonscience.org:80/api/v0/data/DP1.10003.001/TALL/2015-06, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/TALL/2016-07
    ## 16                                                                        http://data.neonscience.org:80/api/v0/data/DP1.10003.001/CPER/2015-05, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/CPER/2016-05
    ## 17                                                                                                                                               http://data.neonscience.org:80/api/v0/data/DP1.10003.001/GRSM/2016-06
    ##              availableMonths siteCode
    ## 1                    2016-05     OSBS
    ## 2           2015-05, 2016-05     STER
    ## 3           2016-05, 2016-06     STEI
    ## 4                    2015-07     WOOD
    ## 5           2015-06, 2016-06     BART
    ## 6                    2016-06     TREE
    ## 7           2016-06, 2016-07     UNDE
    ## 8           2016-05, 2016-06     ORNL
    ## 9  2015-05, 2015-06, 2016-06     HARV
    ## 10          2015-06, 2016-05     DSNY
    ## 11                   2016-06     JERC
    ## 12 2015-06, 2016-05, 2016-06     SCBI
    ## 13                   2015-06     DELA
    ## 14                   2015-05     GUAN
    ## 15          2015-06, 2016-07     TALL
    ## 16          2015-05, 2016-05     CPER
    ## 17                   2016-06     GRSM
    ## 
    ## $data$productName
    ## [1] "Breeding landbird point counts"
    ## 
    ## $data$productCodePresentation
    ## [1] "NEON.DP1.10003"
    ## 
    ## $data$specs
    ##   specId      specNumber
    ## 1   2467 NEON.DOC.001247
    ## 2   2468 NEON.DOC.001245
    ## 
    ## $data$productScienceTeamAbbr
    ## [1] "TOS"
    ## 
    ## $data$productCodeLong
    ## [1] "NEON.DOM.SITE.DP1.10003.001"

There is a lot of info in the object, but we're looking for data availability, to 
tell us what we can download. 


    avail$data

    ## $keywords
    ## [1] "birds"                 "diversity"             "taxonomy"             
    ## [4] "community composition" "distance sampling"     "avian"                
    ## [7] "species composition"   "population"           
    ## 
    ## $productStatus
    ## [1] "ACTIVE"
    ## 
    ## $productDescription
    ## [1] "Count, distance from observer, and taxonomic identification of breeding landbirds observed during point counts"
    ## 
    ## $productCode
    ## [1] "DP1.10003.001"
    ## 
    ## $productHasExpanded
    ## [1] TRUE
    ## 
    ## $productCategory
    ## [1] "Level 1 Data Product"
    ## 
    ## $themes
    ## [1] "Organisms, Populations, and Communities"
    ## 
    ## $productScienceTeam
    ## [1] "Terrestrial Observation System (TOS)"
    ## 
    ## $siteCodes
    ##                                                                                                                                                                                                      availableDataUrls
    ## 1                                                                                                                                                http://data.neonscience.org:80/api/v0/data/DP1.10003.001/OSBS/2016-05
    ## 2                                                                         http://data.neonscience.org:80/api/v0/data/DP1.10003.001/STER/2015-05, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/STER/2016-05
    ## 3                                                                         http://data.neonscience.org:80/api/v0/data/DP1.10003.001/STEI/2016-05, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/STEI/2016-06
    ## 4                                                                                                                                                http://data.neonscience.org:80/api/v0/data/DP1.10003.001/WOOD/2015-07
    ## 5                                                                         http://data.neonscience.org:80/api/v0/data/DP1.10003.001/BART/2015-06, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/BART/2016-06
    ## 6                                                                                                                                                http://data.neonscience.org:80/api/v0/data/DP1.10003.001/TREE/2016-06
    ## 7                                                                         http://data.neonscience.org:80/api/v0/data/DP1.10003.001/UNDE/2016-06, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/UNDE/2016-07
    ## 8                                                                         http://data.neonscience.org:80/api/v0/data/DP1.10003.001/ORNL/2016-05, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/ORNL/2016-06
    ## 9  http://data.neonscience.org:80/api/v0/data/DP1.10003.001/HARV/2015-05, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/HARV/2015-06, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/HARV/2016-06
    ## 10                                                                        http://data.neonscience.org:80/api/v0/data/DP1.10003.001/DSNY/2015-06, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/DSNY/2016-05
    ## 11                                                                                                                                               http://data.neonscience.org:80/api/v0/data/DP1.10003.001/JERC/2016-06
    ## 12 http://data.neonscience.org:80/api/v0/data/DP1.10003.001/SCBI/2015-06, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/SCBI/2016-05, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/SCBI/2016-06
    ## 13                                                                                                                                               http://data.neonscience.org:80/api/v0/data/DP1.10003.001/DELA/2015-06
    ## 14                                                                                                                                               http://data.neonscience.org:80/api/v0/data/DP1.10003.001/GUAN/2015-05
    ## 15                                                                        http://data.neonscience.org:80/api/v0/data/DP1.10003.001/TALL/2015-06, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/TALL/2016-07
    ## 16                                                                        http://data.neonscience.org:80/api/v0/data/DP1.10003.001/CPER/2015-05, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/CPER/2016-05
    ## 17                                                                                                                                               http://data.neonscience.org:80/api/v0/data/DP1.10003.001/GRSM/2016-06
    ##              availableMonths siteCode
    ## 1                    2016-05     OSBS
    ## 2           2015-05, 2016-05     STER
    ## 3           2016-05, 2016-06     STEI
    ## 4                    2015-07     WOOD
    ## 5           2015-06, 2016-06     BART
    ## 6                    2016-06     TREE
    ## 7           2016-06, 2016-07     UNDE
    ## 8           2016-05, 2016-06     ORNL
    ## 9  2015-05, 2015-06, 2016-06     HARV
    ## 10          2015-06, 2016-05     DSNY
    ## 11                   2016-06     JERC
    ## 12 2015-06, 2016-05, 2016-06     SCBI
    ## 13                   2015-06     DELA
    ## 14                   2015-05     GUAN
    ## 15          2015-06, 2016-07     TALL
    ## 16          2015-05, 2016-05     CPER
    ## 17                   2016-06     GRSM
    ## 
    ## $productName
    ## [1] "Breeding landbird point counts"
    ## 
    ## $productCodePresentation
    ## [1] "NEON.DP1.10003"
    ## 
    ## $specs
    ##   specId      specNumber
    ## 1   2467 NEON.DOC.001247
    ## 2   2468 NEON.DOC.001245
    ## 
    ## $productScienceTeamAbbr
    ## [1] "TOS"
    ## 
    ## $productCodeLong
    ## [1] "NEON.DOM.SITE.DP1.10003.001"

    avail$data$siteCodes

    ##                                                                                                                                                                                                      availableDataUrls
    ## 1                                                                                                                                                http://data.neonscience.org:80/api/v0/data/DP1.10003.001/OSBS/2016-05
    ## 2                                                                         http://data.neonscience.org:80/api/v0/data/DP1.10003.001/STER/2015-05, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/STER/2016-05
    ## 3                                                                         http://data.neonscience.org:80/api/v0/data/DP1.10003.001/STEI/2016-05, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/STEI/2016-06
    ## 4                                                                                                                                                http://data.neonscience.org:80/api/v0/data/DP1.10003.001/WOOD/2015-07
    ## 5                                                                         http://data.neonscience.org:80/api/v0/data/DP1.10003.001/BART/2015-06, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/BART/2016-06
    ## 6                                                                                                                                                http://data.neonscience.org:80/api/v0/data/DP1.10003.001/TREE/2016-06
    ## 7                                                                         http://data.neonscience.org:80/api/v0/data/DP1.10003.001/UNDE/2016-06, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/UNDE/2016-07
    ## 8                                                                         http://data.neonscience.org:80/api/v0/data/DP1.10003.001/ORNL/2016-05, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/ORNL/2016-06
    ## 9  http://data.neonscience.org:80/api/v0/data/DP1.10003.001/HARV/2015-05, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/HARV/2015-06, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/HARV/2016-06
    ## 10                                                                        http://data.neonscience.org:80/api/v0/data/DP1.10003.001/DSNY/2015-06, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/DSNY/2016-05
    ## 11                                                                                                                                               http://data.neonscience.org:80/api/v0/data/DP1.10003.001/JERC/2016-06
    ## 12 http://data.neonscience.org:80/api/v0/data/DP1.10003.001/SCBI/2015-06, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/SCBI/2016-05, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/SCBI/2016-06
    ## 13                                                                                                                                               http://data.neonscience.org:80/api/v0/data/DP1.10003.001/DELA/2015-06
    ## 14                                                                                                                                               http://data.neonscience.org:80/api/v0/data/DP1.10003.001/GUAN/2015-05
    ## 15                                                                        http://data.neonscience.org:80/api/v0/data/DP1.10003.001/TALL/2015-06, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/TALL/2016-07
    ## 16                                                                        http://data.neonscience.org:80/api/v0/data/DP1.10003.001/CPER/2015-05, http://data.neonscience.org:80/api/v0/data/DP1.10003.001/CPER/2016-05
    ## 17                                                                                                                                               http://data.neonscience.org:80/api/v0/data/DP1.10003.001/GRSM/2016-06
    ##              availableMonths siteCode
    ## 1                    2016-05     OSBS
    ## 2           2015-05, 2016-05     STER
    ## 3           2016-05, 2016-06     STEI
    ## 4                    2015-07     WOOD
    ## 5           2015-06, 2016-06     BART
    ## 6                    2016-06     TREE
    ## 7           2016-06, 2016-07     UNDE
    ## 8           2016-05, 2016-06     ORNL
    ## 9  2015-05, 2015-06, 2016-06     HARV
    ## 10          2015-06, 2016-05     DSNY
    ## 11                   2016-06     JERC
    ## 12 2015-06, 2016-05, 2016-06     SCBI
    ## 13                   2015-06     DELA
    ## 14                   2015-05     GUAN
    ## 15          2015-06, 2016-07     TALL
    ## 16          2015-05, 2016-05     CPER
    ## 17                   2016-06     GRSM

    avail$data$siteCodes$availableDataUrls

    ## [[1]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/OSBS/2016-05"
    ## 
    ## [[2]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/STER/2015-05"
    ## [2] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/STER/2016-05"
    ## 
    ## [[3]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/STEI/2016-05"
    ## [2] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/STEI/2016-06"
    ## 
    ## [[4]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/WOOD/2015-07"
    ## 
    ## [[5]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/BART/2015-06"
    ## [2] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/BART/2016-06"
    ## 
    ## [[6]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/TREE/2016-06"
    ## 
    ## [[7]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/UNDE/2016-06"
    ## [2] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/UNDE/2016-07"
    ## 
    ## [[8]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/ORNL/2016-05"
    ## [2] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/ORNL/2016-06"
    ## 
    ## [[9]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/HARV/2015-05"
    ## [2] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/HARV/2015-06"
    ## [3] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/HARV/2016-06"
    ## 
    ## [[10]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/DSNY/2015-06"
    ## [2] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/DSNY/2016-05"
    ## 
    ## [[11]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/JERC/2016-06"
    ## 
    ## [[12]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/SCBI/2015-06"
    ## [2] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/SCBI/2016-05"
    ## [3] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/SCBI/2016-06"
    ## 
    ## [[13]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/DELA/2015-06"
    ## 
    ## [[14]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/GUAN/2015-05"
    ## 
    ## [[15]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/TALL/2015-06"
    ## [2] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/TALL/2016-07"
    ## 
    ## [[16]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/CPER/2015-05"
    ## [2] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/CPER/2016-05"
    ## 
    ## [[17]]
    ## [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/GRSM/2016-06"

    bird.urls <- unlist(avail$data$siteCodes$availableDataUrls)
    bird.urls

    ##  [1] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/OSBS/2016-05"
    ##  [2] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/STER/2015-05"
    ##  [3] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/STER/2016-05"
    ##  [4] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/STEI/2016-05"
    ##  [5] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/STEI/2016-06"
    ##  [6] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/WOOD/2015-07"
    ##  [7] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/BART/2015-06"
    ##  [8] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/BART/2016-06"
    ##  [9] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/TREE/2016-06"
    ## [10] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/UNDE/2016-06"
    ## [11] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/UNDE/2016-07"
    ## [12] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/ORNL/2016-05"
    ## [13] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/ORNL/2016-06"
    ## [14] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/HARV/2015-05"
    ## [15] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/HARV/2015-06"
    ## [16] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/HARV/2016-06"
    ## [17] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/DSNY/2015-06"
    ## [18] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/DSNY/2016-05"
    ## [19] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/JERC/2016-06"
    ## [20] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/SCBI/2015-06"
    ## [21] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/SCBI/2016-05"
    ## [22] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/SCBI/2016-06"
    ## [23] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/DELA/2015-06"
    ## [24] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/GUAN/2015-05"
    ## [25] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/TALL/2015-06"
    ## [26] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/TALL/2016-07"
    ## [27] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/CPER/2015-05"
    ## [28] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/CPER/2016-05"
    ## [29] "http://data.neonscience.org:80/api/v0/data/DP1.10003.001/GRSM/2016-06"

These are the URLs showing us what files are available for each month where 
there are data. For simplicity, we'll only query one month now.


    brd <- GET(bird.urls[6])
    brd.files <- fromJSON(content(brd, as="text"))
    brd.files$data$files

    ##                               crc32
    ## 1  4972362cad0bd5873aa356af86e45826
    ## 2  8241d346adeeac463737112f47cffaa8
    ## 3  61b33b64b9095e50331295a2cf6c0bbc
    ## 4  cdbd556c2b5396115fde5b22f6643d81
    ## 5  7d1d2c21f0016212087cdc1041f37054
    ## 6  bfb5fd016eb775adf65bdb0c4b0914f8
    ## 7  9bc7bc357209579748cb103a899933b0
    ## 8  4a5f2420d1f24131e350e4adc207b12e
    ## 9  c26d8ee478ddc41e5a3ebf0b1adb8c17
    ## 10 4a5f2420d1f24131e350e4adc207b12e
    ## 11 5ce80c39de222e286f73b915c06527dd
    ## 12 88b416d167e5021e40cdae7ec605c194
    ## 13 9bc7bc357209579748cb103a899933b0
    ## 14 9d746c8eb43b6d84e2db925d9aca50b1
    ## 15 7d1d2c21f0016212087cdc1041f37054
    ##                                                                               name
    ## 1                NEON.D09.WOOD.DP1.10003.001.2015-07.expanded.20170720T182547Z.zip
    ## 2                           NEON.Bird Conservancy of the Rockies.brd_personnel.csv
    ## 3                                NEON.D09.WOOD.DP1.10003.001.20150101-20160613.xml
    ## 4                                                    NEON.DP1.10003.001_readme.txt
    ## 5                      NEON.D09.WOOD.DP0.10003.001.validation.20170720T182547Z.csv
    ## 6  NEON.D09.WOOD.DP1.10003.001.brd_countdata.2015-07.expanded.20170720T182547Z.csv
    ## 7                       NEON.D09.WOOD.DP1.10003.001.variables.20170720T182547Z.csv
    ## 8   NEON.D09.WOOD.DP1.10003.001.brd_perpoint.2015-07.expanded.20170720T182547Z.csv
    ## 9                                NEON.D09.WOOD.DP1.10003.001.20150101-20160613.xml
    ## 10     NEON.D09.WOOD.DP1.10003.001.brd_perpoint.2015-07.basic.20170720T182547Z.csv
    ## 11                  NEON.D09.WOOD.DP1.10003.001.2015-07.basic.20170720T182547Z.zip
    ## 12                                                   NEON.DP1.10003.001_readme.txt
    ## 13                      NEON.D09.WOOD.DP1.10003.001.variables.20170720T182547Z.csv
    ## 14    NEON.D09.WOOD.DP1.10003.001.brd_countdata.2015-07.basic.20170720T182547Z.csv
    ## 15                     NEON.D09.WOOD.DP0.10003.001.validation.20170720T182547Z.csv
    ##                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   url
    ## 1                https://neon-prod-pub-1.s3.data.neonscience.org/NEON.DOM.SITE.DP1.10003.001/PROV/WOOD/20150701T000000--20150801T000000/expanded/NEON.D09.WOOD.DP1.10003.001.2015-07.expanded.20170720T182547Z.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20170728T214730Z&X-Amz-SignedHeaders=host&X-Amz-Expires=3599&X-Amz-Credential=pub-internal-read%2F20170728%2Fdata%2Fs3%2Faws4_request&X-Amz-Signature=5523ed97c27a5f314e7c8980a19137f5e3ce1921565e82add61bc909b7ec8cad
    ## 2                   https://neon-prod-pub-1.s3.data.neonscience.org/NEON.DOM.SITE.DP1.10003.001/PROV/WOOD/20150701T000000--20150801T000000/expanded/NEON.Bird%20Conservancy%20of%20the%20Rockies.brd_personnel.csv?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20170728T214730Z&X-Amz-SignedHeaders=host&X-Amz-Expires=3600&X-Amz-Credential=pub-internal-read%2F20170728%2Fdata%2Fs3%2Faws4_request&X-Amz-Signature=0c62d814b59a672a8960f66a3044e671afab4a31b0a9882a37c82ee6a17b320f
    ## 3                                https://neon-prod-pub-1.s3.data.neonscience.org/NEON.DOM.SITE.DP1.10003.001/PROV/WOOD/20150701T000000--20150801T000000/expanded/NEON.D09.WOOD.DP1.10003.001.20150101-20160613.xml?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20170728T214730Z&X-Amz-SignedHeaders=host&X-Amz-Expires=3599&X-Amz-Credential=pub-internal-read%2F20170728%2Fdata%2Fs3%2Faws4_request&X-Amz-Signature=19158777455cc1bbfb334706fcfd27ae66fd4bf3181b9d98539eaf839cf9a8c2
    ## 4                                                    https://neon-prod-pub-1.s3.data.neonscience.org/NEON.DOM.SITE.DP1.10003.001/PROV/WOOD/20150701T000000--20150801T000000/expanded/NEON.DP1.10003.001_readme.txt?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20170728T214730Z&X-Amz-SignedHeaders=host&X-Amz-Expires=3600&X-Amz-Credential=pub-internal-read%2F20170728%2Fdata%2Fs3%2Faws4_request&X-Amz-Signature=8f039f276fd2d4d720e1af508bc669c259124d5aeae92b45bce285de26403c02
    ## 5                      https://neon-prod-pub-1.s3.data.neonscience.org/NEON.DOM.SITE.DP1.10003.001/PROV/WOOD/20150701T000000--20150801T000000/expanded/NEON.D09.WOOD.DP0.10003.001.validation.20170720T182547Z.csv?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20170728T214730Z&X-Amz-SignedHeaders=host&X-Amz-Expires=3600&X-Amz-Credential=pub-internal-read%2F20170728%2Fdata%2Fs3%2Faws4_request&X-Amz-Signature=6f99d12964c172af65f89f7916c3a3eef7d1aa24d9cc0de13b19379ad93c0b85
    ## 6  https://neon-prod-pub-1.s3.data.neonscience.org/NEON.DOM.SITE.DP1.10003.001/PROV/WOOD/20150701T000000--20150801T000000/expanded/NEON.D09.WOOD.DP1.10003.001.brd_countdata.2015-07.expanded.20170720T182547Z.csv?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20170728T214730Z&X-Amz-SignedHeaders=host&X-Amz-Expires=3600&X-Amz-Credential=pub-internal-read%2F20170728%2Fdata%2Fs3%2Faws4_request&X-Amz-Signature=0b62822b727131fb37a29f122d6f2e44fba95f76e4e5273a0d66b920907b31ef
    ## 7                       https://neon-prod-pub-1.s3.data.neonscience.org/NEON.DOM.SITE.DP1.10003.001/PROV/WOOD/20150701T000000--20150801T000000/expanded/NEON.D09.WOOD.DP1.10003.001.variables.20170720T182547Z.csv?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20170728T214730Z&X-Amz-SignedHeaders=host&X-Amz-Expires=3600&X-Amz-Credential=pub-internal-read%2F20170728%2Fdata%2Fs3%2Faws4_request&X-Amz-Signature=a45af05ae609e08a1f6b38ba978e4f6de1885c0b3055f2a3ca75c384d422b15b
    ## 8   https://neon-prod-pub-1.s3.data.neonscience.org/NEON.DOM.SITE.DP1.10003.001/PROV/WOOD/20150701T000000--20150801T000000/expanded/NEON.D09.WOOD.DP1.10003.001.brd_perpoint.2015-07.expanded.20170720T182547Z.csv?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20170728T214730Z&X-Amz-SignedHeaders=host&X-Amz-Expires=3600&X-Amz-Credential=pub-internal-read%2F20170728%2Fdata%2Fs3%2Faws4_request&X-Amz-Signature=500973517fe331609a2a2d672f3932879a24c01e73a9a78aea7164a17b7d1fbd
    ## 9                                   https://neon-prod-pub-1.s3.data.neonscience.org/NEON.DOM.SITE.DP1.10003.001/PROV/WOOD/20150701T000000--20150801T000000/basic/NEON.D09.WOOD.DP1.10003.001.20150101-20160613.xml?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20170728T214730Z&X-Amz-SignedHeaders=host&X-Amz-Expires=3600&X-Amz-Credential=pub-internal-read%2F20170728%2Fdata%2Fs3%2Faws4_request&X-Amz-Signature=55ae4481cbb625e1b4434783b2ddeb1341a1f8fe125602dbdd07989517f429e0
    ## 10        https://neon-prod-pub-1.s3.data.neonscience.org/NEON.DOM.SITE.DP1.10003.001/PROV/WOOD/20150701T000000--20150801T000000/basic/NEON.D09.WOOD.DP1.10003.001.brd_perpoint.2015-07.basic.20170720T182547Z.csv?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20170728T214730Z&X-Amz-SignedHeaders=host&X-Amz-Expires=3600&X-Amz-Credential=pub-internal-read%2F20170728%2Fdata%2Fs3%2Faws4_request&X-Amz-Signature=fbe244f71f62b0bf5f15ef7603da2758041beadc7e873e14e2d5e050332e12ba
    ## 11                     https://neon-prod-pub-1.s3.data.neonscience.org/NEON.DOM.SITE.DP1.10003.001/PROV/WOOD/20150701T000000--20150801T000000/basic/NEON.D09.WOOD.DP1.10003.001.2015-07.basic.20170720T182547Z.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20170728T214730Z&X-Amz-SignedHeaders=host&X-Amz-Expires=3600&X-Amz-Credential=pub-internal-read%2F20170728%2Fdata%2Fs3%2Faws4_request&X-Amz-Signature=ad4e1dc0690e0f28841e4512300f4b906cd9e128cee3ad6019449d98091c115c
    ## 12                                                      https://neon-prod-pub-1.s3.data.neonscience.org/NEON.DOM.SITE.DP1.10003.001/PROV/WOOD/20150701T000000--20150801T000000/basic/NEON.DP1.10003.001_readme.txt?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20170728T214730Z&X-Amz-SignedHeaders=host&X-Amz-Expires=3600&X-Amz-Credential=pub-internal-read%2F20170728%2Fdata%2Fs3%2Faws4_request&X-Amz-Signature=e5f10071f977f9dc2f272cf7db0ed2348b026774b5eb8565045aa876a38b4c11
    ## 13                         https://neon-prod-pub-1.s3.data.neonscience.org/NEON.DOM.SITE.DP1.10003.001/PROV/WOOD/20150701T000000--20150801T000000/basic/NEON.D09.WOOD.DP1.10003.001.variables.20170720T182547Z.csv?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20170728T214730Z&X-Amz-SignedHeaders=host&X-Amz-Expires=3600&X-Amz-Credential=pub-internal-read%2F20170728%2Fdata%2Fs3%2Faws4_request&X-Amz-Signature=f57e37fbd8f4c39c1c082117f803c3581b0a98ade51e382e03ee917d5902a01b
    ## 14       https://neon-prod-pub-1.s3.data.neonscience.org/NEON.DOM.SITE.DP1.10003.001/PROV/WOOD/20150701T000000--20150801T000000/basic/NEON.D09.WOOD.DP1.10003.001.brd_countdata.2015-07.basic.20170720T182547Z.csv?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20170728T214730Z&X-Amz-SignedHeaders=host&X-Amz-Expires=3600&X-Amz-Credential=pub-internal-read%2F20170728%2Fdata%2Fs3%2Faws4_request&X-Amz-Signature=e0684f959445b5b7384d4873a4fbbb7c328cb14eee5c75dc3640fb02fa029724
    ## 15                        https://neon-prod-pub-1.s3.data.neonscience.org/NEON.DOM.SITE.DP1.10003.001/PROV/WOOD/20150701T000000--20150801T000000/basic/NEON.D09.WOOD.DP0.10003.001.validation.20170720T182547Z.csv?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20170728T214730Z&X-Amz-SignedHeaders=host&X-Amz-Expires=3600&X-Amz-Credential=pub-internal-read%2F20170728%2Fdata%2Fs3%2Faws4_request&X-Amz-Signature=c8484c10a4c67704aff58ba8cc4f962bb271a2a34063fccc8b32939dd4b0e154
    ##      size
    ## 1   69271
    ## 2    2553
    ## 3   74721
    ## 4   11234
    ## 5    9826
    ## 6  376383
    ## 7    7280
    ## 8   23962
    ## 9   69927
    ## 10  23962
    ## 11  67239
    ## 12  11098
    ## 13   7280
    ## 14 355660
    ## 15   9826

And now we have the URLs where we can get the data files themselves. We'll use 
the file names to pick which ones we want. To translate, available files for 
July 2015 at Woodworth are all of the following: 

1. zip of all data files in the expanded package
1. readme for the data product (not specific to dates or location)
1. count data table, expanded package version
1. point data table, expanded package version
1. validation file for the data product: lists input data and data entry rules
1. variables file for the data product: lists data fields in downloaded tables
1. personnel data table
1. Ecological Metadata Language (EML) file
1. zip of all data files in the basic package
1. point data table, basic package version
1. Ecological Metadata Language (EML) file (?)
1. validation file for the data product: lists input data and data entry rules (?)
1. variables file for the data product: lists data fields in downloaded tables (?)
1. readme for the data product (not specific to dates or location) (?)
1. count data table, basic package version

We'll get the data tables for the point data and count data in the basic 
package.


    brd.count <- read.delim(brd.files$data$files$url
                            [intersect(grep("countdata", brd.files$data$files$name),
                                        grep("basic", brd.files$data$files$name))], sep=",")
    
    brd.point <- read.delim(brd.files$data$files$url
                            [intersect(grep("perpoint", brd.files$data$files$name),
                                        grep("basic", brd.files$data$files$name))], sep=",")

Just to prove the files we pulled have actual data in them, a quick graphic:




## Instrumentation data
The process is essentially the same for sensor data. We'll do the same series of 
queries for Soil temperature, DP1.00041.001


    req <- GET("http://data.neonscience.org/api/v0/products/DP1.00041.001")
    avail <- fromJSON(content(req, as="text"), simplifyDataFrame=T, flatten=T)
    temp.urls <- unlist(avail$data$siteCodes$availableDataUrls)
    tmp <- GET(temp.urls[20])
    tmp.files <- fromJSON(content(tmp, as="text"))
    tmp.files$data$files$name

    ##  [1] "NEON.D13.NIWO.DP1.00041.001.00000.003.504.030.ST_30_minute.csv"
    ##  [2] "NEON.D13.NIWO.DP1.00041.001.00000.004.509.001.ST_1_minute.csv" 
    ##  [3] "NEON.D13.NIWO.DP1.00041.001.00000.004.506.001.ST_1_minute.csv" 
    ##  [4] "NEON.D13.NIWO.DP1.00041.001.00000.001.509.030.ST_30_minute.csv"
    ##  [5] "NEON.D13.NIWO.DP1.00041.001.00000.005.509.001.ST_1_minute.csv" 
    ##  [6] "NEON.D13.NIWO.DP1.00041.001.00000.004.508.001.ST_1_minute.csv" 
    ##  [7] "NEON.D13.NIWO.DP1.00041.001.00000.001.502.001.ST_1_minute.csv" 
    ##  [8] "NEON.D13.NIWO.DP1.00041.001.00000.005.508.030.ST_30_minute.csv"
    ##  [9] "NEON.D13.NIWO.DP1.00041.001.00000.003.504.001.ST_1_minute.csv" 
    ## [10] "NEON.D13.NIWO.DP1.00041.001.00000.004.504.030.ST_30_minute.csv"
    ## [11] "NEON.D13.NIWO.DP1.00041.001.00000.004.506.030.ST_30_minute.csv"
    ## [12] "NEON.D13.NIWO.DP1.00041.001.00000.003.506.001.ST_1_minute.csv" 
    ## [13] "NEON.D13.NIWO.DP1.00041.001.00000.003.503.001.ST_1_minute.csv" 
    ## [14] "NEON.D13.NIWO.DP1.00041.001.00000.003.503.030.ST_30_minute.csv"
    ## [15] "NEON.D13.NIWO.DP1.00041.001.00000.004.507.030.ST_30_minute.csv"
    ## [16] "NEON.D13.NIWO.DP1.00041.001.00000.005.508.001.ST_1_minute.csv" 
    ## [17] "NEON.D13.NIWO.DP1.00041.001.00000.003.507.030.ST_30_minute.csv"
    ## [18] "NEON.D13.NIWO.DP1.00041.001.00000.002.502.030.ST_30_minute.csv"
    ## [19] "NEON.D13.NIWO.DP1.00041.001.00000.005.502.030.ST_30_minute.csv"
    ## [20] "NEON.D13.NIWO.DP1.00041.001.00000.002.505.030.ST_30_minute.csv"
    ## [21] "NEON.D13.NIWO.DP1.00041.001.00000.001.507.030.ST_30_minute.csv"
    ## [22] "NEON.D13.NIWO.DP1.00041.001.00000.005.506.001.ST_1_minute.csv" 
    ## [23] "NEON.D13.NIWO.DP1.00041.001.00000.005.503.030.ST_30_minute.csv"
    ## [24] "NEON.D13.NIWO.DP1.00041.001.00000.001.504.030.ST_30_minute.csv"
    ## [25] "NEON.D13.NIWO.DP1.00041.001.00000.002.501.001.ST_1_minute.csv" 
    ## [26] "NEON.D13.NIWO.DP1.00041.001.00000.003.509.001.ST_1_minute.csv" 
    ## [27] "NEON.D13.NIWO.DP1.00041.001.00000.001.506.001.ST_1_minute.csv" 
    ## [28] "NEON.D13.NIWO.DP1.00041.001.00000.005.502.001.ST_1_minute.csv" 
    ## [29] "NEON.D13.NIWO.DP1.00041.001.00000.005.504.030.ST_30_minute.csv"
    ## [30] "NEON.D13.NIWO.DP1.00041.001.00000.002.504.030.ST_30_minute.csv"
    ## [31] "NEON.D13.NIWO.DP1.00041.001.00000.003.501.001.ST_1_minute.csv" 
    ## [32] "NEON.D13.NIWO.DP1.00041.001.00000.002.505.001.ST_1_minute.csv" 
    ## [33] "NEON.D13.NIWO.DP1.00041.001.00000.004.501.001.ST_1_minute.csv" 
    ## [34] "NEON.D13.NIWO.DP1.00041.001.00000.004.502.001.ST_1_minute.csv" 
    ## [35] "NEON.D13.NIWO.DP1.00041.001.00000.002.504.001.ST_1_minute.csv" 
    ## [36] "NEON.D13.NIWO.DP1.00041.001.00000.003.502.030.ST_30_minute.csv"
    ## [37] "NEON.D13.NIWO.DP1.00041.001.00000.001.503.001.ST_1_minute.csv" 
    ## [38] "NEON.D13.NIWO.DP1.00041.001.00000.003.508.001.ST_1_minute.csv" 
    ## [39] "NEON.D13.NIWO.DP1.00041.001.00000.004.508.030.ST_30_minute.csv"
    ## [40] "NEON.D13.NIWO.DP1.00041.001.00000.005.501.030.ST_30_minute.csv"
    ## [41] "NEON.D13.NIWO.DP1.00041.001.00000.004.505.001.ST_1_minute.csv" 
    ## [42] "NEON.D13.NIWO.DP1.00041.001.00000.001.503.030.ST_30_minute.csv"
    ## [43] "NEON.D13.NIWO.DP1.00041.001.00000.001.508.001.ST_1_minute.csv" 
    ## [44] "NEON.D13.NIWO.DP1.00041.001.00000.003.502.001.ST_1_minute.csv" 
    ## [45] "NEON.D13.NIWO.DP1.00041.001.00000.001.505.001.ST_1_minute.csv" 
    ## [46] "NEON.D13.NIWO.DP1.00041.001.00000.002.503.030.ST_30_minute.csv"
    ## [47] "NEON.D13.NIWO.DP1.00041.001.00000.004.501.030.ST_30_minute.csv"
    ## [48] "NEON.D13.NIWO.DP1.00041.001.00000.005.503.001.ST_1_minute.csv" 
    ## [49] "NEON.D13.NIWO.DP1.00041.001.00000.002.507.001.ST_1_minute.csv" 
    ## [50] "NEON.D13.NIWO.DP1.00041.001.00000.005.505.030.ST_30_minute.csv"
    ## [51] "NEON.D13.NIWO.DP1.00041.001.00000.002.509.001.ST_1_minute.csv" 
    ## [52] "NEON.D13.NIWO.DP1.00041.001.00000.004.503.030.ST_30_minute.csv"
    ## [53] "NEON.D13.NIWO.DP1.00041.001.00000.003.505.001.ST_1_minute.csv" 
    ## [54] "NEON.D13.NIWO.DP1.00041.001.00000.004.505.030.ST_30_minute.csv"
    ## [55] "NEON.D13.NIWO.DP1.00041.001.00000.001.509.001.ST_1_minute.csv" 
    ## [56] "NEON.D13.NIWO.DP1.00041.001.00000.004.502.030.ST_30_minute.csv"
    ## [57] "NEON.D13.NIWO.DP1.00041.001.00000.001.501.030.ST_30_minute.csv"
    ## [58] "NEON.D13.NIWO.DP1.00041.001.00000.001.506.030.ST_30_minute.csv"
    ## [59] "NEON.D13.NIWO.DP1.00041.001.00000.005.504.001.ST_1_minute.csv" 
    ## [60] "NEON.D13.NIWO.DP1.00041.001.00000.003.509.030.ST_30_minute.csv"
    ## [61] "NEON.D13.NIWO.DP1.00041.001.00000.004.504.001.ST_1_minute.csv" 
    ## [62] "NEON.D13.NIWO.DP1.00041.001.00000.004.509.030.ST_30_minute.csv"
    ## [63] "NEON.D13.NIWO.DP1.00041.001.20170601-20170701.xml"             
    ## [64] "NEON.D13.NIWO.DP1.00041.001.00000.003.508.030.ST_30_minute.csv"
    ## [65] "NEON.D13.NIWO.DP1.00041.001.00000.005.501.001.ST_1_minute.csv" 
    ## [66] "NEON.D13.NIWO.DP1.00041.001.00000.003.501.030.ST_30_minute.csv"
    ## [67] "NEON.D13.NIWO.DP1.00041.001.00000.005.509.030.ST_30_minute.csv"
    ## [68] "NEON.D13.NIWO.DP1.00041.001.00000.001.504.001.ST_1_minute.csv" 
    ## [69] "NEON.D13.NIWO.DP1.00041.001.00000.002.502.001.ST_1_minute.csv" 
    ## [70] "NEON.D13.NIWO.DP1.00041.001.00000.002.506.030.ST_30_minute.csv"
    ## [71] "NEON.D13.NIWO.DP1.00041.001.00000.004.507.001.ST_1_minute.csv" 
    ## [72] "NEON.D13.NIWO.DP1.00041.001.00000.005.506.030.ST_30_minute.csv"
    ## [73] "NEON.D13.NIWO.DP1.00041.001.00000.005.505.001.ST_1_minute.csv" 
    ## [74] "NEON.D13.NIWO.DP1.00041.001.00000.002.508.001.ST_1_minute.csv" 
    ## [75] "NEON.D13.NIWO.DP1.00041.001.00000.003.507.001.ST_1_minute.csv" 
    ## [76] "NEON.D13.NIWO.DP1.00041.001.00000.002.501.030.ST_30_minute.csv"
    ## [77] "NEON.D13.NIWO.DP1.00041.001.00000.001.507.001.ST_1_minute.csv" 
    ## [78] "NEON.D13.NIWO.DP1.00041.001.00000.001.505.030.ST_30_minute.csv"
    ## [79] "NEON.D13.NIWO.DP1.00041.001.00000.002.507.030.ST_30_minute.csv"
    ## [80] "NEON.D13.NIWO.DP1.00041.001.00000.002.508.030.ST_30_minute.csv"
    ## [81] "NEON.D13.NIWO.DP1.00041.001.00000.002.503.001.ST_1_minute.csv" 
    ## [82] "NEON.D13.NIWO.DP1.00041.001.00000.001.502.030.ST_30_minute.csv"
    ## [83] "NEON.D13.NIWO.DP1.00041.001.00000.005.507.001.ST_1_minute.csv" 
    ## [84] "NEON.D13.NIWO.DP1.00041.001.00000.004.503.001.ST_1_minute.csv" 
    ## [85] "NEON.D13.NIWO.DP1.00041.001.00000.001.501.001.ST_1_minute.csv" 
    ## [86] "NEON.D13.NIWO.DP1.00041.001.00000.003.506.030.ST_30_minute.csv"
    ## [87] "NEON.D13.NIWO.DP1.00041.001.00000.003.505.030.ST_30_minute.csv"
    ## [88] "NEON.D13.NIWO.DP1.00041.001.00000.002.506.001.ST_1_minute.csv" 
    ## [89] "NEON.D13.NIWO.DP1.00041.001.00000.002.509.030.ST_30_minute.csv"
    ## [90] "NEON.D13.NIWO.DP1.00041.001.00000.005.507.030.ST_30_minute.csv"
    ## [91] "NEON.D13.NIWO.DP1.00041.001.00000.001.508.030.ST_30_minute.csv"

These are a little more cryptic. The part after the 00000 is: 
soil plot number.depth.time interval.data table name

So NEON.D13.NIWO.DP1.00041.001.00000.003.505.030.ST_30_minute.csv is 
the 30-minute mean of soil temperature at Niwot Ridge in soil plot 3, 
depth 5.

Go get it:


    soil.temp <- read.delim(tmp.files$data$files$url
                            [grep("003.505.030", tmp.files$data$files$name)], sep=",")

And again, a plot to show we've downloaded something with data in it:








